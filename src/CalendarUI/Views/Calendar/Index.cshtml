@model List<MonthViewModel>
@{
    ViewData["Title"] = "Calendar";
}

<div class="border" style="padding:10px;">
    <p>
        Choose your month:
    </p>
    <div class="btn-group" role="group" aria-label="Month">
        @foreach (var month in Model)
        {
            <button type="button" class="btn btn-primary" data-id="@month.Id">@month.Name</button>
        }
    </div>
    <div id="appointments" class="row" style="padding:10px 0;">
    </div>
</div>
@section Scripts{
    <script>
        $(".btn").click(function () {
            $(".btn").removeClass('active');
            $(this).addClass('active');
            var month = $(this).data('id');
            $.ajax({
                type: "GET",
                contentType: 'application/html; charset=utf-8',
                url: "/appointments/" + month,
                success: function (result) {
                    $('#appointments').html(result);
                },
                error: function (error) {
                    console.log(error);
                },
            });
        });

        $('body').on('click', 'a.list-group-item', function () {
            $(".list-group-item").removeClass('active');
            $(this).addClass('active');
            var id = $(this).data('id');
            $.ajax({
                type: "GET",
                contentType: 'application/html; charset=utf-8',
                url: "/appointmentdetail/" + id,
                success: function (result) {
                    $('#nav-tabContent').html(result);
                },
                error: function (error) {
                    console.log(error);
                },
            });
        });
    </script>
}